<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>FBA | 棒垒球之家</title>
	<link rel="shortcut icon" href="./images/icon_64.ico">
	<link rel="stylesheet" href="stylesheets/reset.css"/>
	<style>
		html, body, .parent{height: 100%;}
		/*.parent{display:flex;flex-direction:column;}*/
		.top{width: 100%;height: 75px;background-image: linear-gradient(#03131D,#1d3f57);}
		.logo{position:absolute;left:125px;top:14px;height:60px;width:152px;background:url(./images/head&foot_spirit.png) 0px 0px no-repeat;cursor: pointer;}
		.slogan{position: absolute;top:20px;left:260px;height: 45px;width:99px;background:url(./images/head&foot_spirit.png) 0px -107px no-repeat;cursor: pointer;}
		.denglu{position: absolute;height: 20px;width: 60px;border-radius: 10px;border:2px solid white;color: white;font-size:10px;transition:.7s;line-height: 20px;text-align: center;top:28px;right:100px;cursor: pointer;}
		.denglu:hover{color:#1d3f57;background-color: white;}
		#line_1{position: absolute;width: 1px;height: 20px;background-color: white;top:30px;right:90px;}
		.sixin{position: absolute;height:15px;width: 25px;background:url(./images/head&foot_spirit.png) 0px -84px;top:32px;right:55px;cursor: pointer;}

		.bottom{height:30px;width:100%;outline: 1px red solid;}
		.lunbo{	position: absolute;	width:70%;height:90px;transform:translateX(-50%);left:50%;bottom:0px;}
		.title{position: absolute;bottom:10px;width:100%;height:80px;background-color: #03131D;opacity:0.9;font-size: 30px;font-family: "Microsoft YaHei";color: white;text-align: center;line-height: 60px;}
		.button{position: absolute;width:108px;height: 108px;cursor: pointer;opacity: 0.01;}
		#left{background: url(./images/spirit_2.png) 0px -125px no-repeat;top:50%;transform:translateY(-50%);left:20px;}
		#right{background: url(./images/spirit_2.png) 0px 0px no-repeat;top:50%;transform:translateY(-50%);right:20px;}
		.button:hover{opacity: 0.8 !important;}
		.controls{position: absolute;bottom:15px;left:50%;transform:translateX(-50%);}
		.control:hover{background-color:#982023 !important;}
		#controls_0{background-color:#982023;}
		.controls>i{width:15px;height: 15px;border-radius:10px;background-color: white;border:1px solid black;display:inline-block;cursor: pointer;/*transition:.7s;*/}
		.bottom_l{position:absolute;bottom: 0px;width:100%;height: 10px;background-color: #982023;}
		.nav{display:flex;flex-direction:row;width:70%;height:55px;margin:0 auto;font-size:15px;color:black;font-family:"Microsoft YaHei";font-weight: bold;
			text-align: center;line-height: 55px;cursor: pointer;}
		.nav>div{background-color: #EDEDED;/*float:left;width: 191px;*/flex:1;height:100%;transition:.7s;}
		.nav>div:hover{	background-color: #1d3f57;color:white;}
		.line{
			float:right;
			width:1px;
			height:35px;
			background-color: gray;
			margin-top:10px;
		}
		.container{position: absolute;width:1150px;top:130px;bottom:30px;left:50%;transform:translateX(-50%);border-radius: 5px;border: 1px black solid;overflow: hidden;}
		.img{width: 100%;height: 100%;/*display:inline-block;*/position: absolute;}
		#img_0{background:url(./images/test_1.jpg);background-size:cover;opacity:1;}
		#img_1{background:url(./images/test_2.jpg);background-size:cover;opacity:0;}
		#img_2{background:url(./images/test_3.jpg);background-size:cover;opacity:0;}
		#img_3{background:url(./images/test_4.jpg);background-size:cover;opacity:0;}
		#img_4{background:url(./images/test_5.jpg);background-size:cover;opacity:0;}
	</style>
	<script>
	//轮播图
		var index = 0;//表示图片检索下标。
		var change  = 0.01;//表示动画变化量。
		var flag = 0;//表示是否需要停止自动轮播。
		var animated = 0; //图片进行切换。
		var animated_0 = 0;
		var animated_1 = 0;
		var animated_2 = 0;
		var animated_3 = 0;
		var	animated_4 = 0;
	//浮点加减法
		function accAdd(arg1,arg2){  
		    var r1,r2,m;  
		    try{r1=arg1.toString().split(".")[1].length}catch(e){r1=0}; 
		    try{r2=arg2.toString().split(".")[1].length}catch(e){r2=0};  
		    m=Math.pow(10,Math.max(r1,r2));  
		    return (arg1*m+arg2*m)/m;  
		}
	//轮播动画
		function step(){
			if(flag == 0){
				if(index == 0){
					if(imgwrap[1].style.opacity <= 1){			    
						imgwrap[0].style.opacity = imgwrap[0].style.opacity - change;				
						imgwrap[1].style.opacity = accAdd(imgwrap[1].style.opacity,change);
						setTimeout(step,5);				
					}else{
						imgwrap[0].style.opacity = 0;
						imgwrap[1].style.opacity = 1;
						b[0].style['background-color'] = 'white';
						b[1].style['background-color'] = '#982023';
						index += 1;
						setTimeout(step,5000);
					}
				}else if(index == 1){
					if(imgwrap[2].style.opacity  <=1){
						imgwrap[1].style.opacity = imgwrap[1].style.opacity - change;
						imgwrap[2].style.opacity = accAdd(imgwrap[2].style.opacity,change);
						setTimeout(step,5);
					}else{
						imgwrap[1].style.opacity = 0;
						imgwrap[2].style.opacity = 1;
						b[1].style['background-color'] = 'white';
						b[2].style['background-color'] = '#982023';
						index += 1;
						setTimeout(step,5000);
					}
				}else if(index == 2){
					if(imgwrap[3].style.opacity  <=1){
						imgwrap[2].style.opacity = imgwrap[2].style.opacity - change;
						imgwrap[3].style.opacity = accAdd(imgwrap[3].style.opacity,change);
						setTimeout(step,5);
					}else{
						imgwrap[2].style.opacity = 0;
						imgwrap[3].style.opacity = 1;
						b[2].style['background-color'] = 'white';
						b[3].style['background-color'] = '#982023';
						index += 1;
						setTimeout(step,5000);
					}
				}else if(index == 3){
					if(imgwrap[4].style.opacity  <=1){
						imgwrap[3].style.opacity = imgwrap[3].style.opacity - change;
						imgwrap[4].style.opacity = accAdd(imgwrap[4].style.opacity,change);
						setTimeout(step,5);
					}else{
						imgwrap[3].style.opacity = 0;
						imgwrap[4].style.opacity = 1;
						b[3].style['background-color'] = 'white';
						b[4].style['background-color'] = '#982023';
						index +=1;
						setTimeout(step,5000);
					}
				}
				else if(index == 4){
					if(imgwrap[0].style.opacity  <=1){
						imgwrap[4].style.opacity = imgwrap[4].style.opacity - change;
						imgwrap[0].style.opacity = accAdd(imgwrap[0].style.opacity,change);
						setTimeout(step,5);
					}else{
						imgwrap[4].style.opacity = 0;
						imgwrap[0].style.opacity = 1;
						b[4].style['background-color'] = 'white';
						b[0].style['background-color'] = '#982023';
						index = 0;
						setTimeout(step,5000);
					}
				}
			}else{
				return;
			}
		}
		var intervalID = setTimeout(step,3000);

		//控制按钮
		function control_0(){
			flag =1;
			if(animated_1 == 1 || animated_2 == 1 || animated_3 == 1 || animated_4 == 1){
				// animated_0 = 0;
				return;
			}else{
				animated_0 = 1;
				if(accAdd(imgwrap[0].style.opacity,change) < 1){
					imgwrap[0].style.opacity = accAdd(imgwrap[0].style.opacity,change);
					setTimeout(control_0,5);
				}else{
					imgwrap[0].style.opacity = 1;
					b[0].style['background-color'] = '#982023';
					index = 0;
					animated_0 = 0;
				}
				for (var i = 0;i < b.length;i++){
					if(i == 0){
						continue;
					}
					if(imgwrap[i].style.opacity - change > 0 ){
						imgwrap[i].style.opacity = imgwrap[i].style.opacity - change;
					}else{
						imgwrap[i].style.opacity = 0;
						b[i].style['background-color'] = 'white';
					}	
				}
			}	
		}


		function control_1(){
			flag = 1;

			if(animated_0 == 1 || animated_2 == 1 || animated_3 == 1 || animated_4 == 1){
				// animated_1 = 0;
				return;
			}else{
				animated_1 = 1;
				if(accAdd(imgwrap[1].style.opacity,change) < 1){
					imgwrap[1].style.opacity = accAdd(imgwrap[1].style.opacity,change);
					setTimeout(control_1,5);
				}else{
					imgwrap[1].style.opacity = 1;
					b[1].style['background-color'] = '#982023';
					index = 1;
					animated_1 = 0;
				}
				for (var i = 0;i < b.length;i++){
					if(i == 1){
						continue;
					}
					if(imgwrap[i].style.opacity - change > 0 ){
						imgwrap[i].style.opacity = imgwrap[i].style.opacity - change;
					}else{
						imgwrap[i].style.opacity = 0;
						b[i].style['background-color'] = 'white';
					}	
				}
			}
		}

		function control_2(){
			flag =1;
			if(animated_0 == 1 || animated_1 == 1 || animated_3 == 1 || animated_4 == 1){
				// animated_2 = 0;
				return;
			}else{
				animated_2 = 1;
				if(accAdd(imgwrap[2].style.opacity,change) < 1){
					imgwrap[2].style.opacity = accAdd(imgwrap[2].style.opacity,change);
					setTimeout(control_2,5);
				}else{
					imgwrap[2].style.opacity = 1;
					b[2].style['background-color'] = '#982023';
					index = 2;
					animated_2 = 0;
				}
				for (var i = 0;i < b.length;i++){
					if(i == 2){
						continue;
					}
					if(imgwrap[i].style.opacity - change > 0 ){
						imgwrap[i].style.opacity = imgwrap[i].style.opacity - change;
					}else{
						imgwrap[i].style.opacity = 0;
						b[i].style['background-color'] = 'white';
					}	
				}
			}
		}

		function control_3(){
			flag =1;
			if(animated_0 == 1 || animated_1 == 1 || animated_2 == 1 || animated_4 == 1){
				// animated_3 = 0;
				return;
			}else{
				animated_3 = 1;
				if(accAdd(imgwrap[3].style.opacity,change) < 1){
					imgwrap[3].style.opacity = accAdd(imgwrap[3].style.opacity,change);
					setTimeout(control_3,5);
				}else{
					imgwrap[3].style.opacity = 1;
					b[3].style['background-color'] = '#982023';
					index = 3;
					animated_3 = 0;
				}
				for (var i = 0;i < b.length;i++){
					if(i == 3){
						continue;
					}
					if(imgwrap[i].style.opacity - change > 0 ){
						imgwrap[i].style.opacity = imgwrap[i].style.opacity - change;
					}else{
						imgwrap[i].style.opacity = 0;
						b[i].style['background-color'] = 'white';
					}	
				}
			}
		}

		function control_4(){
			flag = 1;
			if(animated_0 == 1 || animated_1 == 1 || animated_2 == 1 || animated_3 == 1){
				// animated_4 = 0;
				return;
			}else{
				animated_4 = 1;
				if(accAdd(imgwrap[4].style.opacity,change) < 1){
					imgwrap[4].style.opacity = accAdd(imgwrap[4].style.opacity,change);
					setTimeout(control_4,5);
				}else{
					imgwrap[4].style.opacity = 1;
					b[4].style['background-color'] = '#982023';
					index = 4;
					animated_4 = 0;
				}
				for (var i = 0;i < b.length;i++){
					if(i == 4){
						continue;
					}
					if(imgwrap[i].style.opacity - change > 0 ){
						imgwrap[i].style.opacity = imgwrap[i].style.opacity - change;
					}else{
						imgwrap[i].style.opacity = 0;
						b[i].style['background-color'] = 'white';
					}	
				}
			}
		}
		//切换左按钮
		function control_l (){
			flag = 1;
			// if(animated == 1){
			// 	return;
			// }else{
			// 	animated = 1;
				if(index == 0){
					if(imgwrap[index].style.opacity - change >0){
						imgwrap[index].style.opacity = imgwrap[index].style.opacity - change;
						imgwrap[4].style.opacity = accAdd(imgwrap[4].style.opacity,change);
						setTimeout(control_l,5);
					}else{
						imgwrap[index].style.opacity = 0;
						imgwrap[4].style.opacity = 1;
						b[index].style['background-color'] = 'white';
						b[4].style['background-color'] = '#982023';
						index = 4;
						
					}
				}else{
					if (imgwrap[index].style.opacity - change >0) {
						imgwrap[index].style.opacity = imgwrap[index].style.opacity - change;
						imgwrap[index-1].style.opacity = accAdd(imgwrap[index-1].style.opacity,change);
						setTimeout(control_l,5);
					}else{
						imgwrap[index].style.opacity = 0;
						imgwrap[index-1].style.opacity = 1;
						b[index].style['background-color'] = 'white';
						b[index-1].style['background-color'] = '#982023';
						index = index -1;
						
					}
				}
		}

		//切换右按钮
		function control_r (){
			flag = 1;
			// if(animated == 1){
			// 	return;
			// }else{
			// 	animated = 1;
				if(index == 4){
					if(imgwrap[index].style.opacity - change >0){
						imgwrap[index].style.opacity = imgwrap[index].style.opacity - change;
						imgwrap[0].style.opacity = accAdd(imgwrap[0].style.opacity,change);
						setTimeout(control_r,5);
					}else{
						imgwrap[index].style.opacity = 0;
						imgwrap[0].style.opacity = 1;
						b[index].style['background-color'] = 'white';
						b[0].style['background-color'] = '#982023';
						index = 0;
						
					}
				}else{
					if (imgwrap[index].style.opacity - change >0) {
						imgwrap[index].style.opacity = imgwrap[index].style.opacity - change;
						imgwrap[index+1].style.opacity = accAdd(imgwrap[index+1].style.opacity,change);
						setTimeout(control_r,5);
					}else{
						imgwrap[index].style.opacity = 0;
						imgwrap[index+1].style.opacity = 1;
						b[index].style['background-color'] = 'white';
						b[index+1].style['background-color'] = '#982023';
						index = index +1;
					}
				}
		}

	</script>
</head>
<body>
	<div class = 'parent'>
		<div class = 'top'>
			<div class = 'logo'></div>
			<div class = 'slogan'></div>
			<div class = 'denglu'>登录</div>
			<div id = 'line_1'></div>
			<div class = 'sixin'></div>
		</div>
		<div class = 'nav'>
			<div id = 'nav1'>主页<div class = 'line'></div></div>
			<div id = 'nav2'>棒垒事<div class = 'line'></div></div>
			<div id = 'nav3'>影视<div class = 'line'></div></div>
			<div id = 'nav4'>20周年<div class = 'line'></div></div>
			<div id = 'nav5'>关于我们</div>
		</div>
		<div class = 'container'>
			<div class = 'img' id = 'img_0'></div>
			<div class = 'img' id = 'img_1'></div>
			<div class = 'img' id = 'img_2'></div>
			<div class = 'img' id = 'img_3'></div>
			<div class = 'img' id = 'img_4'></div>
			<span class = 'button' id = 'left' onclick = 'control_l()'></span>
			<span class = 'button' id = 'right' onclick = 'control_r()'></span>
		</div>
		
		
		<!-- <div class = 'bottom'></div> -->
		<div class = 'lunbo'>
			<div class = 'title'>这是测试头条标题</div>
			<div class = 'bottom_l'></div>
			<div class = 'controls'>
				<i class = 'control' id = 'controls_0' onclick = 'control_0()'></i>
				<i class = 'control' id = 'controls_1' onclick = 'control_1()'></i>
				<i class = 'control' id = 'controls_2' onclick = 'control_2()'></i>
				<i class = 'control' id = 'controls_3' onclick = 'control_3()'></i>
				<i class = 'control' id = 'controls_4' onclick = 'control_4()'></i>
			</div>
		</div>
	</div>
	<script>
	var wrap = document.querySelector('.container');
	var imgwrap = wrap.querySelectorAll('div');
	var a = document.querySelector('.controls');
	var b = a.querySelectorAll('i');
	</script>
</body>
</html>